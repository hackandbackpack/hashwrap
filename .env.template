# HashWrap Environment Configuration Template
# Copy this file to .env and customize the values

# =============================================================================
# SECURITY SETTINGS (CHANGE IN PRODUCTION!)
# =============================================================================

# Database credentials
POSTGRES_PASSWORD=your_secure_db_password_here

# Redis credentials
REDIS_PASSWORD=your_secure_redis_password_here

# JWT Secret for authentication
JWT_SECRET=your_jwt_secret_key_here_use_openssl_rand_base64_32

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment (development, production)
ENVIRONMENT=production

# Debug mode (true/false)
DEBUG=false

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000

# CORS Origins (comma-separated URLs)
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# Allowed hosts
ALLOWED_HOSTS=*

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database URL (automatically constructed from POSTGRES_PASSWORD)
# DATABASE_URL=postgresql://hashwrap:${POSTGRES_PASSWORD}@database:5432/hashwrap

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis URL (automatically constructed from REDIS_PASSWORD)
# REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# =============================================================================
# FILE STORAGE SETTINGS
# =============================================================================

# Upload limits
MAX_UPLOAD_SIZE=104857600  # 100MB in bytes
MAX_UPLOAD_LINES=10000000  # 10M lines

# Allowed file extensions
ALLOWED_EXTENSIONS=.txt,.hash,.lst,.zip,.gz

# =============================================================================
# JOB PROCESSING SETTINGS
# =============================================================================

# Maximum concurrent jobs
MAX_CONCURRENT_JOBS=4

# Default job timeout (seconds)
DEFAULT_JOB_TIMEOUT=86400  # 24 hours

# Job cleanup interval (seconds)
JOB_CLEANUP_INTERVAL=3600  # 1 hour

# =============================================================================
# GPU SETTINGS
# =============================================================================

# CUDA visible devices (comma-separated device IDs)
CUDA_VISIBLE_DEVICES=0,1,2,3

# NVIDIA Docker runtime options
NVIDIA_VISIBLE_DEVICES=all
NVIDIA_DRIVER_CAPABILITIES=compute,utility

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Log format (json, human)
LOG_FORMAT=json

# =============================================================================
# MONITORING SETTINGS
# =============================================================================

# Enable metrics collection
METRICS_ENABLED=true

# Metrics port
METRICS_PORT=9090

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600  # 1 hour

# Session settings
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# TOTP settings
TOTP_ISSUER=HashWrap
TOTP_WINDOW=2

# =============================================================================
# LEGAL/COMPLIANCE SETTINGS
# =============================================================================

# Require legal banner acceptance
REQUIRE_LEGAL_BANNER=true

# Data retention periods (days)
AUDIT_LOG_RETENTION_DAYS=365
DATA_RETENTION_DAYS=90

# =============================================================================
# ADMIN USER (FOR INITIAL SETUP)
# =============================================================================

# Admin user credentials (remove after initial setup)
ADMIN_EMAIL=admin@yourdomain.com
ADMIN_PASSWORD=change_this_secure_password

# =============================================================================
# WEBHOOK SETTINGS
# =============================================================================

# Webhook configuration
WEBHOOK_TIMEOUT=10
WEBHOOK_RETRIES=3
WEBHOOK_RETRY_DELAY=5

# =============================================================================
# BACKGROUND TASK SETTINGS
# =============================================================================

# Directory scan interval (seconds)
DIRECTORY_SCAN_INTERVAL=60

# Progress update interval (seconds)
PROGRESS_UPDATE_INTERVAL=30

# =============================================================================
# SSL/TLS SETTINGS (FOR PRODUCTION)
# =============================================================================

# Uncomment and configure for SSL/TLS support
# SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
# SSL_KEY_PATH=/etc/nginx/ssl/key.pem
# SSL_CHAIN_PATH=/etc/nginx/ssl/chain.pem

# Force HTTPS redirect
# FORCE_HTTPS=true

# =============================================================================
# BACKUP SETTINGS
# =============================================================================

# Backup configuration
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30